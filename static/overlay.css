:root{ --accent: #00ff6a; --bg: rgba(5,20,10,0.92); --border: rgba(0,255,110,0.35); }
html,body{ height:100%; margin:0; background: transparent; overflow:hidden; }
body{ font:14px/1.4 system-ui,Segoe UI,Roboto,Arial; color:#cfe; -webkit-app-region: drag; }
.root{ position:relative; width:100%; height:100%; }

/* Greenie sprite */
.agent{ position:absolute; bottom:8px; right:8px; cursor:pointer; -webkit-app-region: drag; }
.sprite{ width:140px; height:auto; filter: drop-shadow(0 0 8px rgba(0,255,110,0.35)); user-select:none; pointer-events:none; animation: hover 3.5s ease-in-out infinite; }
@keyframes hover{ 0%,100%{ transform:translateY(0); } 50%{ transform:translateY(-6px); } }
.pulse{ position:absolute; bottom:12px; right:12px; width:10px; height:10px; border-radius:50%; background: var(--accent); box-shadow:0 0 10px var(--accent), 0 0 20px var(--accent); animation:pulse 1.8s infinite ease-in-out; pointer-events:none; }
@keyframes pulse{ 0%{ transform:scale(0.9); opacity:0.7;} 50%{ transform:scale(1.1); opacity:1;} 100%{ transform:scale(0.9); opacity:0.7;} }

/* Chat container */
.chat-container{ position:absolute; bottom:160px; right:8px; width:340px; max-height:420px; background: var(--bg); border:1px solid var(--border); border-radius:12px; box-shadow: 0 6px 32px rgba(0,0,0,0.5), 0 0 20px rgba(0,255,110,0.18); display:flex; flex-direction:column; -webkit-app-region: no-drag; }
.chat-header{ padding:8px 12px; border-bottom:1px solid var(--border); display:flex; justify-content:space-between; align-items:center; font-weight:600; color:var(--accent); }
.close-chat{ background:none; border:none; color:#cfe; font-size:20px; cursor:pointer; padding:0 4px; }
.close-chat:hover{ color:var(--accent); }
.chat-log{ flex:1; overflow-y:auto; padding:10px; min-height:200px; max-height:300px; }
.chat-log .msg{ margin-bottom:10px; padding:6px 10px; border-radius:8px; }
.chat-log .msg.user{ background: rgba(0,255,110,0.15); align-self:flex-end; text-align:right; }
.chat-log .msg.assistant{ background: rgba(0,150,255,0.12); }
.chat-input-row{ display:flex; gap:6px; padding:8px; border-top:1px solid var(--border); }
.chat-input-row input{ flex:1; background: rgba(0,20,10,0.6); border:1px solid var(--border); color:#cfe; padding:6px 10px; border-radius:8px; outline:none; }
.chat-input-row input:focus{ border-color: var(--accent); box-shadow: 0 0 8px rgba(0,255,110,0.2); }
.chat-input-row button{ background: var(--accent); border:none; color:#021107; padding:6px 12px; border-radius:8px; cursor:pointer; font-weight:600; }
.chat-input-row button:hover{ box-shadow: 0 0 12px var(--accent); }

/* Controls (gear, hide) */
.controls{ position:absolute; top:8px; right:8px; display:flex; gap:6px; -webkit-app-region: no-drag; }
.icon-btn{ background: var(--bg); border:1px solid var(--border); color:#aefccb; border-radius:8px; padding:6px 10px; cursor:pointer; font-size:16px; }
.icon-btn:hover{ border-color: var(--accent); box-shadow: 0 0 10px rgba(0,255,110,0.2); }

/* Settings panel */
.settings-panel{ position:absolute; top:40px; right:8px; width:260px; background: var(--bg); border:1px solid var(--border); border-radius:12px; padding:12px; box-shadow: 0 6px 32px rgba(0,0,0,0.5); -webkit-app-region: no-drag; }
.settings-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; font-weight:600; color:var(--accent); }
.close-settings{ background:none; border:none; color:#cfe; font-size:20px; cursor:pointer; padding:0 4px; }
.close-settings:hover{ color:var(--accent); }
.setting-row{ display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
.setting-row select{ background: rgba(0,20,10,0.6); border:1px solid var(--border); color:#cfe; padding:4px 8px; border-radius:6px; }
.setting-row input[type="checkbox"]{ margin-right:6px; }
